<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="js/treeview/jquery-2.1.0.min.js"></script>
    <script>
        var name = 'Topo_dw_Test1';
        var designLibraryId = 'fe3bcdac76264eeb8c84cf116f9bac23';
        var topoId = '755980e0fe0f45ac86463964d31fe7c7';
        var modelId = '33df93c039fb416fa2f0f565338d4132';
        
        var topoUrl_create = 'http://10.61.16.175:8080/com.huawei.hutaf.lcm.modeler/hutaf-topology/v1/topos'
        var topoUrl_update = 'http://10.61.16.175:8080/com.huawei.hutaf.lcm.modeler/hutaf-topology/v1/topos/' + topoId;
        var topoUrl_query = 'http://10.61.16.175:8080/com.huawei.hutaf.lcm.modeler/hutaf-topology/v1/topos/actions/query';
        
        var modelUrl_create = 'http://10.61.16.175:8080/com.huawei.hutaf.lcm.modeler/hutaf-topology/v1/models';
        var modelUrl_update = 'http://10.61.16.175:8080/com.huawei.hutaf.lcm.modeler/hutaf-topology/v1/models/' + modelId;
        var modelUrl_query = 'http://10.61.16.175:8080/com.huawei.hutaf.lcm.modeler/hutaf-topology/v1/models/actions/query';

        function connect(){
            var data = $('#request').val();
            $.ajax({
                type: 'POST',
                url: modelUrl_query,
                dataType: 'json',
                crossDomain : true,
                contentType : 'application/json; charset=utf-8',
                headers: {
                     "request_id": "3748f8af-80b9-4c77-9f8b-cb99770b9d1a",
                     "request_user": "gwx117385",
                     "request_token": "3748f8af-80cb99770b9d1a"
                },
                data: data,
                success: function(result){
                    $('#response').val(JSON.stringify(result));
                },
                error: function(result){
                    $('#response').val(result.status + ':' + result.statusText);
                }
            });
        }
    </script>
</head>
<body>
    <div style="width: 100%;margin-top: 50px;">
        <div style="width: 40%;float: left;margin-left: 3%;">
            <h3>Request:</h3>
            <textarea id="request" style="width: 100%;height: 300px;"></textarea>
        </div>
        <div style="float: left;margin-left: 5%;margin-right: 5%;margin: 160px 5%">
            <button onclick="connect();">>></button>
        </div>
        <div style="width: 40%;float: left;">
            <h3>Response:</h3>
            <textarea id="response" style="width: 100%;height: 300px;"></textarea>
        </div>
    </div>
</body>
</html>
